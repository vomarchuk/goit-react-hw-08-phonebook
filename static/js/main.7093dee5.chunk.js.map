{"version":3,"sources":["components/NavBar/NavBar.module.css","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/contacts/contacts-operations.js","components/Container/Container.module.css","components/PrivateRoute.js","components/PublicRoute.js","components/Container/Container.js","components/Section/Section.js","components/AuthNav.js","images/logout.svg","components/UserMenu.js","components/Navigations.js","components/NavBar/NavBar.js","components/App/App.js","redux/contacts/contacts-slice.js","redux/auth/auth-slice.js","redux/store.js","index.js"],"names":["module","exports","axios","defaults","baseURL","token","headers","common","Authorization","fetchCurrentUser","createAsyncThunk","_","thunkAPI","a","state","getState","persisterToken","auth","rejectedWithValue","get","data","userRegister","credentails","console","log","post","logIn","authOperations","logOut","authSelectors","getIsLoggedIn","isLoggedIn","getUserName","user","name","getIsFechingCurrent","isFechingCurrent","getAllContacts","addContact","details","removeContact","contactId","delete","contactsOperations","filter","value","PrivateRoute","children","redirectTo","routeProps","useSelector","to","PublicRoute","restricted","shouldRedirect","Container","className","s","container","Section","AuthNav","auth_nav","nav_item","UserMenu","userName","dispatch","useDispatch","user_menu","Button","logOutBtn","variant","onClick","type","icon","src","logOutIcon","width","height","alt","Navigations","navigations","NavBar","nav_bar","HomePage","lazy","LoginPage","RegisterPage","ContactsPage","App","useEffect","fallback","exact","path","contactsSlice","createSlice","initialState","items","extraReducers","fulfilled","action","payload","push","item","id","authSlice","email","error","pending","rejected","message","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","autSlice","contacts","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.7093dee5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_bar\":\"NavBar_nav_bar__1hgvk\",\"nav_item\":\"NavBar_nav_item__38viu\",\"user_menu\":\"NavBar_user_menu__GfI1r\",\"logOutBtn\":\"NavBar_logOutBtn__30N8I\"};","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst fetchCurrentUser = createAsyncThunk(\n  '/auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persisterToken = state.auth.token;\n    if (persisterToken === null) {\n      return thunkAPI.rejectedWithValue();\n      // return state;\n    }\n    token.set(persisterToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  },\n);\n\nconst userRegister = createAsyncThunk('auth/register', async credentails => {\n  try {\n    console.log('hello');\n    const { data } = await axios.post('/users/signup', credentails);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n});\nconst logIn = createAsyncThunk('auth/login', async credentails => {\n  try {\n    const { data } = await axios.post('/users/login', credentails);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n});\n\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    throw error;\n  }\n});\n\nconst authOperations = {\n  userRegister,\n  logIn,\n  logOut,\n  fetchCurrentUser,\n};\nexport default authOperations;\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\nconst getUserName = state => state.auth.user.name;\nconst getIsFechingCurrent = state => state.auth.isFechingCurrent;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n  getIsFechingCurrent,\n};\n\nexport default authSelectors;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst getAllContacts = createAsyncThunk('contacts', async () => {\n  try {\n    const { data } = await axios.get('/contacts');\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n});\n\nconst addContact = createAsyncThunk('contacts/add', async details => {\n  try {\n    const { data } = await axios.post('/contacts', details);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n});\n\nconst removeContact = createAsyncThunk('contact/remove', async contactId => {\n  try {\n    await axios.delete(`/contacts/${contactId}`);\n    return contactId;\n  } catch (error) {\n    throw error;\n  }\n});\n\nconst filter = createAsyncThunk('/auth/filter', value => value);\n\nconst contactsOperations = {\n  getAllContacts,\n  addContact,\n  removeContact,\n  filter,\n};\nexport default contactsOperations;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nconst PrivateRoute = ({ children, redirectTo = '/', ...routeProps }) => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n};\n\nexport default PrivateRoute;\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nconst PublicRoute = ({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...routeProps\n}) => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n};\nexport default PublicRoute;\n","import PropTypes from 'prop-types';\n\nimport s from './Container.module.css';\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\nexport default Container;\n","import Container from '../Container';\n\nconst Section = ({ children }) => {\n  return (\n    <section>\n      <Container>{children}</Container>\n    </section>\n  );\n};\nexport default Section;\n","import { NavLink } from 'react-router-dom';\nimport s from './NavBar/NavBar.module.css';\nconst AuthNav = () => {\n  return (\n    <div className={s.auth_nav}>\n      <NavLink className={`${s.nav_item} `} to=\"/register\">\n        Register\n      </NavLink>\n      <NavLink className={`${s.nav_item} `} to=\"/login\">\n        Login\n      </NavLink>\n    </div>\n  );\n};\n\nexport default AuthNav;\n","export default __webpack_public_path__ + \"static/media/logout.a6eede60.svg\";","import { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport authSelectors from '../redux/auth/auth-selectors';\nimport authOperations from '../redux/auth/auth-operations';\nimport { Button } from 'react-bootstrap';\nimport logOutIcon from '../images/logout.svg';\nimport s from './NavBar/NavBar.module.css';\nconst UserMenu = () => {\n  const userName = useSelector(authSelectors.getUserName);\n  const dispatch = useDispatch();\n  return (\n    <div className={s.user_menu}>\n      <span className={s.s}>Wellcome, {userName}</span>\n      <Button\n        className={s.logOutBtn}\n        variant=\"danger\"\n        onClick={() => dispatch(authOperations.logOut())}\n        type=\"button\"\n      >\n        <img\n          className={s.icon}\n          src={logOutIcon}\n          width=\"20\"\n          height=\"20\"\n          alt=\"logout button\"\n        />\n      </Button>\n    </div>\n  );\n};\nexport default UserMenu;\n","import { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nimport s from './NavBar/NavBar.module.css';\n\nconst Navigations = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav className={s.navigations}>\n      <NavLink className={s.nav_item} to=\"/\">\n        Home\n      </NavLink>\n      {isLoggedIn && (\n        <NavLink className={s.nav_item} to=\"/contacts\">\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n  );\n};\nexport default Navigations;\n","import { useSelector } from 'react-redux';\nimport authSelectors from '../../redux/auth/auth-selectors';\n\nimport AuthNav from '../AuthNav';\nimport UserMenu from '../UserMenu';\nimport Navigations from '../Navigations';\n\nimport s from './NavBar.module.css';\nconst NavBar = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <header className={s.nav_bar}>\n      <Navigations />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n};\n\nexport default NavBar;\n","import { Suspense, lazy } from 'react';\nimport { Switch } from 'react-router';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport PrivateRoute from '../PrivateRoute';\nimport PublicRoute from '../PublicRoute';\n\nimport Section from '../Section';\nimport NavBar from '../NavBar';\nimport authOperations from '../../redux/auth/auth-operations';\nimport authSelectors from '../../redux/auth/auth-selectors';\n\nconst HomePage = lazy(() => import('../Page/HomePage'));\nconst LoginPage = lazy(() => import('../Page/LoginPage'));\nconst RegisterPage = lazy(() => import('../Page/RegisterPage'));\nconst ContactsPage = lazy(() => import('../Page/ContactsPage'));\n\nconst App = () => {\n  const isFechingCurrent = useSelector(authSelectors.getIsFechingCurrent);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n  return (\n    !isFechingCurrent && (\n      <>\n        <Section>\n          <NavBar />\n        </Section>\n\n        <Suspense fallback={<div>...Loading</div>}>\n          <Section>\n            <Switch>\n              <PublicRoute exact path=\"/\">\n                <HomePage />\n              </PublicRoute>\n\n              <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\n                <RegisterPage />\n              </PublicRoute>\n\n              <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\n                <LoginPage />\n              </PublicRoute>\n\n              <PrivateRoute path=\"/contacts\" redirectTo=\"/\">\n                <ContactsPage />\n              </PrivateRoute>\n            </Switch>\n          </Section>\n        </Suspense>\n      </>\n    )\n  );\n};\n\nexport default App;\n","import { createSlice } from '@reduxjs/toolkit';\nimport contactsOperations from './contacts-operations';\n\nconst initialState = {\n  items: null,\n  filter: '',\n};\n\nconst contactsSlice = createSlice({\n  name: 'contacts',\n  initialState,\n  extraReducers: {\n    [contactsOperations.getAllContacts.fulfilled](state, action) {\n      state.items = action.payload;\n    },\n    [contactsOperations.addContact.fulfilled](state, action) {\n      state.items.push(action.payload);\n    },\n    [contactsOperations.removeContact.fulfilled](state, action) {\n      state.items = state.items.filter(item => item.id !== action.payload);\n    },\n    [contactsOperations.filter.fulfilled](state, action) {\n      state.filter = action.payload;\n    },\n  },\n});\n\nexport default contactsSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport authOperations from './auth-operations';\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  error: null,\n  isFechingCurrent: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.fetchCurrentUser.pending](state, action) {\n      state.isFechingCurrent = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, { payload }) {\n      state.user = payload;\n      state.isLoggedIn = true;\n      state.isFechingCurrent = false;\n      state.error = null;\n    },\n    [authOperations.fetchCurrentUser.rejected](state, { error }) {\n      state.isLoggedIn = false;\n      state.isFechingCurrent = false;\n      state.error = error?.message;\n    },\n\n    [authOperations.userRegister.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [authOperations.userRegister.rejected](state, { error }) {\n      state.isLoggedIn = false;\n      state.error = error?.message;\n    },\n\n    [authOperations.logIn.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [authOperations.logIn.rejected](state, { error }) {\n      state.isLoggedIn = false;\n      state.error = error?.message;\n    },\n\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n      state.error = null;\n    },\n    [authOperations.logOut.rejected](state, { error }) {\n      state.error = error?.message;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsSlice from './contacts/contacts-slice';\nimport autSlice from './auth/auth-slice';\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, autSlice),\n    contacts: contactsSlice,\n  },\n  middleware: getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  devTools: process.env.NODE_ENV === 'development',\n});\n\n// export default store;\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport App from './components/App';\nimport { store, persistor } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}